# Observability

The ability to understand and measure the state of a system based upon data generated by the system. It allows you to generate actionable outputs from unexpected scenarios in dynamic environments.

## Purpose

The main purpose of observability is to better understand the internals of the system.

## Troubleshooting

When it comes to troubleshooting issues, we need more information than just what is wrong. We need to know:

- Why our application entered a specific state
- What component is responsible
- How we can avoid it in the future

## Fundamentals

### Pillars of Observability

1. Logging
2. Metrics
3. Traces

#### Logs

Logs are records of events that have occurred and encapsulate information about specific events.

Logs are comprised of:

- Timestamp of when log occurred
- Message containing the information

Logs of processes are likely to be interwoven with other concurrent processes spread across multiple systems

#### Traces

Traces allow you to follow operations as they traverses through various systems and services. So we can follow an individual request and see it flow through our system hop by hop

Traces are comprised of:

- Trace-Id that can be used to identify a request as it traverses the system
- spans are individual events forming a trace

Each span tracks the following:

- Start time  
- Duration
- Parent-id

![Traces](./img/traces.png)

#### Metrics

Metrics provides information about the state of a system using numerical values

- CPU Load  
- Number of open files
- HTTP response times
- Number of errors

The data collected can be aggregated over time and graphed using visualization tools to identify `trends` over time.

Metrics contain 4 pieces of information

1. Metric Name  
2. Value - most recent or current value of the metric
3. Timestamp for the metric
4. Dimensions - additional information about the metric

### SLO / SLA / SLI

#### SLI (Service Level Indicator)

Quantitative measure of some aspect of the level of service that is provided.
Not all metrics make for good SLIs. We want to find metrics that accurately measure a user's experience

Common SLIs:

- Request Latency
- Error Rate
- Saturation
- Throughput
- Availability

#### SLO (Service Level Object)

Target value or range for an SLI. It should be directly related to the `customer experience`. The main purpose of the SLO is to quantify reliability of a product to a customer

SLI - Latency
SLO - Latency < 100 ms

SLI - Availability
SLO - 99.9% uptime

#### SLA (Service Level Agreement)

It is a contract between a vendor and a user that guarantees a certain SLO. The consequences for not meeting any SLO can be financial based but can also be variety of other things as well.

